---
title: "Bellabeat - Case study"
author: "Anna Roman"
date: "2023-10-17"
output: html_document
---

## About the company
Urška Sršen and Sando Mur founded Bellabeat, a high-tech company that manufactures health-focused smart products. Sršen used her background as an artist to develop beautifully designed technology that informs and inspires women around the world. Collecting data on activity, sleep, stress, and reproductive health has allowed Bellabeat to empower women with knowledge about their own health and habits. Since it was founded in 2013, Bellabeat has grown rapidly and quickly positioned itself as a tech-driven wellness company for women.

## Questions
1. What are some trends in smart device usage? 
2. How could these trends apply to Bellabeat customers? 
3. How could these trends help influence Bellabeat marketing strategy? 

## Business task
Identifying potential opportunities for growth and recommendations for improving Bellabeat marketing strategy based on trends in smart device usage.

## Stakeholders
* Urška Sršen: Bellabeat’s cofounder and Chief Creative Officer 
* Sando Mur: Mathematician and Bellabeat’s cofounder; key member of the Bellabeat executive team 
* Bellabeat marketing analytics team: A team of data analysts responsible for collecting, analyzing, and reporting data that helps guide Bellabeat’s marketing strategy.

## Dataset 
FitBit Fitness Tracker [Data](https://www.kaggle.com/datasets/arashnic/fitbit) (CC0: Public Domain, dataset made available through [Mobius](https://www.kaggle.com/arashnic)): This Kaggle data set contains personal fitness tracker from thirty fitbit users. Thirty eligible Fitbit users consented to the submission of personal tracker data, including minute-level output for physical activity, heart rate, and sleep monitoring. It includes information about daily activity, steps, and heart rate that can be used to explore users’ habits. 

## This dataset have some limitations 
* It is historical data, so it is not current. This dataset was generated by respondents to a distributed survey via Amazon Mechanical Turk between 03.12.2016-05.12.2016.   
* It has a small sample size. Thirty eligible Fitbit users consented to the submission of personal tracker data.
* It has no demographic information (age, sex).
Due to these limitations this data set might be biassed and can’t represent the population as a whole. But we can look at some trends.

## Prepare data

For analysis I have chosen RStudio. Let's load packages.
```{r loading tidyverse}

library(tidyverse)
library(readr)
library(here)
```

Loading data
```{r loading data}
dailyActivity_merged <- read_csv("C:/Users/anetr/OneDrive/Documents/Fitabase Data 4.12.16-5.12.16/dailyActivity_merged.csv")
sleepDay_merged <- read_csv("C:/Users/anetr/OneDrive/Documents/Fitabase Data 4.12.16-5.12.16/sleepDay_merged.csv")
```
Viewing data and checking if data is complete and in correct format
```{r View data}
View(dailyActivity_merged)
glimpse(dailyActivity_merged)

glimpse(sleepDay_merged)
```
We can see that names of the columns hard to read and date in the column 'ActivityDate' is in the wrong format, character instead of date format
The column 'Sleep_Day' is also in a wrong format.

## Process and Analyze data

Installing packages for cleaning data

```{r packages for cleaning}
library(janitor)
library(skimr)
library(dplyr)
```
Next we are making names of the columns more readable. 
Changing format of the columns 'activity_date' from character to date. 
Arranging data  by date in ascending order.

```{r transforming daily_activity data}
activity <- clean_names(dailyActivity_merged)

daily_activity <- arrange(mutate(activity,mdy_date=mdy(activity_date)), mdy_date)

head(daily_activity)
```
Checking data for duplicates

```{r duplicates}
sum(duplicated(daily_activity))
```
No duplicates.

Looking at our new cleaned data 
```{r cleand daily_activity}
View(daily_activity)
skim_without_charts(daily_activity)
```
Column names are easier to read and all columns are in a correct format.
Exploring our data further
```{r summary}
summary(daily_activity)
```
Interesting findings: 
* Most of the participants are not very active. we can see in columns 'very_active_minutes' and 'fairly_active_minutes' median is only 4 and 6 minutes respectively. 
* The biggest difference between min and max time spent on activity is in column 'very_active_minutes' also median and mean are quite different.
* Average steps per day is around 7400-7600, which is less than recommended. Current guidelines suggest that most adults should aim for about 10,000 steps per day.

**Cleaning 'sleepDay_merge' data**:
Making names of the columns more readable and changing format of the column 'sleepDay_merge' from character to date. 
Arranging data  by date in ascending order.
```{r}
sleep_day_df <- clean_names(sleepDay_merged)

sleep_df <- arrange(mutate(sleep_day_df, mdy_date = mdy_hms(sleep_day)), mdy_date)
head(sleep_df)
```

Checking data for duplicates
```{r duplicates sleep}
sum(duplicated(sleep_df))
```
3 duplicates, time to remove them and have a look at our cleaned data
```{r removing duplicates}
sleep <- unique(sleep_df)

sum(duplicated(sleep))

head(sleep)
```

## Visualization
Lets visualize our data

Load packages for visualizations
```{r ggplot2}
library(ggplot2)
```
First lets see daily steps
```{r viz daily steps}
ggplot(daily_activity, aes(x=mdy_date, y=total_steps))+ geom_point(color='green')+ 
  theme(axis.text.x = element_text(angle = 45))
```

Here we can clearly see that quite a lot of users move very little, under 10000 steps per day.
Maybe there should be some kind of rewarding system to motivate users to move more, to make it fun.

Lets check relationship between number of steps and calories
```{r viz steps vs. calories}
ggplot(daily_activity, aes(x=total_steps, y=calories))+geom_smooth()
```

Unsurprisingly we can see strong positive correlation.

Lets look at the relationship between sleep and time spent in bed
```{r viz sleep}
ggplot(sleep,aes(x=total_time_in_bed, y=total_minutes_asleep))+ geom_point(color="orange")
```

We can see strong positive correlation between sleep and time spent in bed with a few outliers. It means for the most part participants don't have problems with falling asleep.

Next we are going to merge our datasets
```{r merging data}
merged <- merge(daily_activity, sleep)
view(merged)
```
Lets see if there is any correlation between sleep('total_minutes_asleep') and moving during the day('total_steps').
```{r viz merged}
ggplot(merged, aes(x=total_steps, y=total_minutes_asleep))+ geom_smooth()+geom_point()
```

Even though line on the plot shows slightly negative relationship there is no significant correlation between these two variables. To say for sure if there is any correlation we need more data and deeper analysis.

## Summary 
Findings and recommendations: 
* Most of the participants are not very active.  Average steps per day is around 7400-7600, which is less than recommended. Current guidelines suggest that most adults should aim for about 10,000 steps per day. 
* Bellabeat app can inform users about recommended steps and educate on health benefits of living an active life.
* It might be beneficial to have some kind of rewarding system or  a mini game to motivate users to move more and make it fun.

Since the Fitbit dataset has some limitations for further analysis I would recommend to use Bellabea’s own dataset and with more participants. Data analysis on their own data will give a more accurate outcome and also better suited for their target group. 

**Thank you!**
